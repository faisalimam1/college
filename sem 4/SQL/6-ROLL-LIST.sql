CREATE OR REPLACE PROCEDURE ROLL_LIST AS

CURSOR C1( MAX_AGE NUMBER) IS

SELECT * FROM O_ROLLCALL WHERE 
AGE<MAX_AGE;

OLDID NUMBER;

OLDAGE NUMBER;

OLDNAME VARCHAR (30);


BEGIN

OPEN C1(20);

LOOP

FETCH C1 INTO OLDID, OLDAGE, OLDNAME;

EXIT WHEN C1%NOTFOUND;
INSERT INTO N_ROLLCALL VALUES(OLDID,OLDAGE, OLDNAME);

END LOOP;
CLOSE C1;

END;
/
/
--set serveroutput on;
--execute roll_list;
